# calc_api_go
Сервис подсчёта арифметических выражений

## Описание
Сервис предоставляет функцию для вычисления арифметических выражений состоящих из односимвольных идентификаторов и знаков арифметических действий. Входящие данные - цифры(рациональные), операции +, -, *, /, операции приоритезации ( и ).

## Инструкция по запуску
1. Клонируйте репозиторий
```bash
git clone https://github.com/RichCake/calc_api_go.git
```
2. Перейдите в папку с проектом
```bash
cd путь/к/проекту
```
3. Запустите файл cmd/main.go
```bash
go run cmd/main.go
```

## Формат запроса и ответа
Чтобы получить результата вычисления выражения отправьте POST запрос на адрес /api/v1/calculate с выражением в ключе expression. Пример запроса:
```
curl --location 'localhost:8080/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
  "expression": "2+2*2"
}'
```
Ответ представляет из себя JSON с ключом result, если нет ошибки, в ином случае с ключом error. Подробнее про ошибки далее. 

Пример ответа:
```
{
    "result": 6
}
```

## Ошибки возвращаемые сервером
Если вы послали на сервер некорректное выражение, то он пришлет ответ в формате `{"error": "какая-то ошибка"}`. Если ошибка заключается в неправильном арифметическом выражении, то сервер вернет код статуса 422 Unprocessable Entity, в иных случаях 500 Internal Server Error. 

Варианты ошибок, связанных с арифметическим выражением:
1. `{"error": "mismatched bracket"}` указывает на неправильную скобочную последовательность.
2. `{"error": "invalid symbols"}` указывает на некорректные символы в выражении. Корректные символы: цифры(рациональные), операции +, -, *, /, операции приоритезации ( и ).
3. `{"error": "invalid operations placement"}` указывает на некорректную растасовку арифметических операций. Например, 2++2 или 2*(+2+2).
4. `{"error": "division by zero"}` возвращается при делении на ноль.
5. `{"error": "invalid expression"}` возвращается в иных случаях. Например, при пустом вводе.